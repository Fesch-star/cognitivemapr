<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="cognitivemapr">
<title>Tutorial Preprocessing Edge and Nodelists • cognitivemapr</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js" integrity="sha512-7O5pXpc0oCRrxk8RUfDYFgn0nO1t+jLuIOQdOMRp4APB7uZ4vSjspzp5y6YDtDs4VzUSTbWzBFZ/LKJhnyFOKw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Tutorial Preprocessing Edge and Nodelists">
<meta property="og:description" content="cognitivemapr">
<meta property="og:image" content="https://fesch-start.github.io/cognitivemapr/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light" data-bs-theme="light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">cognitivemapr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/Tutorial_cognitivemapr_analysis_functions.html">cognitivemapr analysis functions</a>
    <a class="dropdown-item" href="../articles/Tutorial_create_edge_nodelists.html">Tutorial Preprocessing Edge and Nodelists</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav"></ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Tutorial Preprocessing Edge and Nodelists</h1>
            
      
      
      <div class="d-none name"><code>Tutorial_create_edge_nodelists.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="create-edge-and-nodelists">Create edge and nodelists<a class="anchor" aria-label="anchor" href="#create-edge-and-nodelists"></a>
</h2>
<div class="section level3">
<h3 id="install-cognitivemapr">1: Install <code>cognitivemapr</code><a class="anchor" aria-label="anchor" href="#install-cognitivemapr"></a>
</h3>
<p>To install the cognitivemapr package, run the following code:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"devtools"</span>, repos <span class="op">=</span> <span class="st">"https://cloud.r-project.org/"</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://devtools.r-lib.org/" class="external-link">devtools</a></span><span class="op">)</span></span>
<span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"https://github.com/Fesch-star/cognitivemapr"</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">cognitivemapr</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="introducing-the-functions">2: Introducing the functions<a class="anchor" aria-label="anchor" href="#introducing-the-functions"></a>
</h3>
<p>The cognitivemapr package contains three functions that help to
reformat existing edgelists, create associated nodelists and put these
into the proper form to be used with the functions in this package. A
cognitive map is a semantic network consisting of causal and utility
relations (see Van Esch and Snellens, 2024). Therefore, in order to use
this Rpackage, the edgelist should consist of a list of directed
relations between concepts. The nodelist contains all unique concepts in
the edgelist with additional information regarding these concepts, such
as their intrinsic normative value or their categorisation in terms of
paradigms or (policy) instruments (see further below). The functions
that are introduced in this tutorial cater to the various startingpoints
the data may find itself in:</p>
<ol style="list-style-type: decimal">
<li><p>prepare_lists_from_edgelist: This function is used when you only
have an edgelist with relations. It helps you create the nodelist
associated with this edgelist and reformats the edgelist to work with
the other functions in the cognitivemapr package;</p></li>
<li><p>align_edge_nodelist: This function is used when you have an
edgelist and a nodelist, but these are not properly aligned yet. The
function (re)aligns the lists by copying the (normative) value of nodes
from the nodelist to the edgelist, which is required for running the
other functions in the package. This situation may occur when you have
(manually) added or changed the (intrinsic normative) value of some of
the nodes in your nodelist (you do not need to re-align the edge and
nodelist returned from the first function when you have only added the
categorisation in terms of paradigms or instruments).</p></li>
<li><p>reformat_edge_nodelist: This function is used when you have both
an edgelist and associated nodelist that contain the necessary
information but are not in the required format for this package. The
function reformats both lists so you can run the other functions in this
package.</p></li>
</ol>
<p>The edgelists and nodelists that these functions take, already
require you to use a certain formatting while compiling them (see
below). In this tutorial simple bespoke edgelists (and nodelists) will
be created as examples to run the functions on.</p>
</div>
<div class="section level3">
<h3 id="create-a-nodelist-from-an-edgelist">3: Create a nodelist from an edgelist<a class="anchor" aria-label="anchor" href="#create-a-nodelist-from-an-edgelist"></a>
</h3>
<p>In order to run the functions in this package an edgelist with
associated nodelist is needed. If your data only exists of an edgelist
with relations, the function “prepare_lists_from_edgelist” will help you
create an accompanying nodelist, containing all the (unique) concepts in
your edgelist.</p>
<p>This function requires your edgelist to have the following 4 columns
with the listed column titles, in addition any number of columns with
meta-data may be added.</p>
<ol style="list-style-type: decimal">
<li><p>“from”: cause concept (may consist of multiple words)</p></li>
<li><p>“to”: effect or utility concept (may consist of multiple
words)</p></li>
<li><p>“weight”: number of times the relation is mentioned (can have any
number, if left empty the function will set it to 1 by default)</p></li>
<li><p>“edge_value”: sign/value of the relation: can be 1 (positive
relation), -1 (negative relation), or 0 (non-existent relation). If left
empty the function will set it by default to 1 (positive).</p></li>
</ol>
<p>We first create a simple dataframe/edgelist fitting these
requirements to use as an example in this tutorial (see Van Esch etal
2018 for a discussion on how to derive an edgelist for CM analysis from
texts or obtain the data directly from respondents).</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co"># create a simple single edgelist</span></span>
<span></span>
<span><span class="co"># create a list of cause concepts (mandatory column)</span></span>
<span><span class="va">from</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"a"</span>, <span class="st">"c"</span>, <span class="st">"d"</span>, <span class="st">"b"</span><span class="op">)</span></span>
<span><span class="co"># creat a list of effect/utility concepts (mandatory column)</span></span>
<span><span class="va">to</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"c"</span>, <span class="st">"d"</span>, <span class="st">"e"</span>, <span class="st">"d"</span><span class="op">)</span></span>
<span><span class="co"># set number of times the relation occurs (mandatory column, could be left empty)</span></span>
<span><span class="va">weight</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">1</span><span class="op">)</span></span>
<span><span class="co"># set the value of the relation (positive, negative or non-existent effect, could be left empty)</span></span>
<span><span class="va">edge_value</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="op">-</span><span class="fl">1</span>, <span class="op">-</span><span class="fl">1</span>, <span class="fl">1</span><span class="op">)</span></span>
<span><span class="co"># example of non-mandatory meta-data: date</span></span>
<span><span class="va">map_date</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"20-5-2010"</span>, <span class="st">"21-5-2010"</span>, <span class="st">"22-5-2010"</span>, <span class="st">"23-5-2010"</span><span class="op">)</span></span>
<span><span class="co"># combine the data into a dataframe: the original simple edgelist</span></span>
<span><span class="va">single_edgelist</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span><span class="va">from</span>, <span class="va">to</span>, <span class="va">weight</span>, <span class="va">edge_value</span>, <span class="va">map_date</span><span class="op">)</span></span></code></pre></div>
<p>Run the function on the example data and return the resulting
edgelist and nodelist.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># run the function on the example data and return the resulting edge and nodelist</span></span>
<span></span>
<span><span class="co"># run the function and return both the edge and nodelist</span></span>
<span><span class="va">new_edgelist</span> <span class="op">&lt;-</span> <span class="fu">cognitivemapr</span><span class="fu">::</span><span class="fu"><a href="../reference/prepare_lists_from_edgelist.html">prepare_lists_from_edgelist</a></span><span class="op">(</span><span class="va">single_edgelist</span><span class="op">)</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span></span>
<span><span class="va">nodelist</span> <span class="op">&lt;-</span> <span class="fu">cognitivemapr</span><span class="fu">::</span><span class="fu"><a href="../reference/prepare_lists_from_edgelist.html">prepare_lists_from_edgelist</a></span><span class="op">(</span><span class="va">single_edgelist</span><span class="op">)</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># show both lists</span></span>
<span><span class="va">new_edgelist</span></span>
<span><span class="co">#&gt;   from to weight edge_value  map_date value.x value.y</span></span>
<span><span class="co">#&gt; 1    1  2      1          1 20-5-2010       1       1</span></span>
<span><span class="co">#&gt; 2    2  3      1         -1 21-5-2010       1       1</span></span>
<span><span class="co">#&gt; 3    3  5      1         -1 22-5-2010       1       1</span></span>
<span><span class="co">#&gt; 4    4  3      1          1 23-5-2010       1       1</span></span>
<span><span class="va">nodelist</span></span>
<span><span class="co">#&gt;   id node_name value paradigms instruments</span></span>
<span><span class="co">#&gt; 1  1         a     1        NA          NA</span></span>
<span><span class="co">#&gt; 2  2         c     1        NA          NA</span></span>
<span><span class="co">#&gt; 3  3         d     1        NA          NA</span></span>
<span><span class="co">#&gt; 4  4         b     1        NA          NA</span></span>
<span><span class="co">#&gt; 5  5         e     1        NA          NA</span></span></code></pre></div>
<p>Reviewing the resulting edgelist and nodelist shows that the list has
been reformatted to fit the requirements of the other functions in this
package: The created nodelist contains all (unique) concepts featured in
the original edgelist and for each of these concepts a unique id was
created. By default, the function assumes that all concepts have a
positive/neutral (intrinsic normative) value (value of 1). As no
information was supplied about the categorisation of the concepts in
terms of paradigms or instruments, these columns are created but left
empty.</p>
<p>In addition, the edgelist has been reformatted to align with the
nodelist: Rather than listing the concepts, the “from” and “to” columns
now list the id’s for the concepts corresponding to those in the
nodelist. The data in the columns “weight”, “edge-value” and “map_date”
are left untouched. However two extra columns were added displaying the
(intrinsic normative) value of the concepts in the “from” (value.x) and
“to” (value.y) columns as derived from the nodelist.</p>
<p>The nodelist and new edgelist that the prepare_lists_from_edgelist
function creates contain the minimum amount of data needed to run the
most basic functions in the cognitivemapr Rpackage (calculate_degrees
&amp; evaluate_concepts) as well as the correct formatting. However,
more information is needed to reap the full potential of the package,
and to use functions like paradigm_support, instrument_support and
interactive_visual_cm. These functions require a nodelist that supplies
the categorisation of concepts in terms of paradigms and instruments.
Also, some concepts may have an intrinsic negative normative value,
which necessitates adjusting the values in the “value” columns in both
the nodelist and edgelist. The nodelist that the
prepare_list_from_edgelist function has returned may be used as a
template to add/change this information.</p>
</div>
<div class="section level3">
<h3 id="adding-to-or-revising-a-nodelist">4: Adding to or revising a nodelist<a class="anchor" aria-label="anchor" href="#adding-to-or-revising-a-nodelist"></a>
</h3>
<p>Deriving a nodelist from an edgelist with the
prepare_list_from_edgelist function results in nodelist that does not
contain the necessary categorisations of the concepts in the CM to
conduct a full analysis. In addition, the (normative) value of all
concepts is set to positive/neutral by default, which may not be
accurate. In order to add and/or change the information, changes must be
made to the nodelist. This may be done manually in excel by storing the
nodelist. However, for our example data, we will make the changes in R.
When changes are made in de value of the concepts in the nodelist, the
edge and nodelist must subsequently be realigned using the second list
function in the cognitivemapr package: align_edge_nodelist.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co"># to store the new_nodelist when you want to make the changes</span></span>
<span><span class="co"># manually in excel, you run the following code</span></span>
<span><span class="co"># [will not be executed in this tutorial]</span></span>
<span></span>
<span><span class="co"># write.csv(nodelist, file = "[location/filename.csv]", row.names = FALSE)</span></span>
<span></span>
<span><span class="co"># change nodelist by adding information on paradigms and instruments</span></span>
<span><span class="va">nodelist</span><span class="op">$</span><span class="va">paradigms</span><span class="op">[</span><span class="va">nodelist</span><span class="op">$</span><span class="va">node_name</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"a"</span>, <span class="st">"b"</span><span class="op">)</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">"ordoliberal"</span></span>
<span><span class="va">nodelist</span><span class="op">$</span><span class="va">instruments</span><span class="op">[</span><span class="va">nodelist</span><span class="op">$</span><span class="va">node_name</span> <span class="op">==</span> <span class="st">"a"</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">"economic stimulation"</span></span>
<span></span>
<span><span class="co"># change the value of concept a from positive to negative</span></span>
<span><span class="va">nodelist</span><span class="op">$</span><span class="va">value</span><span class="op">[</span><span class="va">nodelist</span><span class="op">$</span><span class="va">node_name</span> <span class="op">==</span> <span class="st">"c"</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="op">-</span><span class="fl">1</span></span>
<span></span>
<span><span class="co"># renaming the nodelist for clarity</span></span>
<span><span class="va">new_nodelist</span> <span class="op">&lt;-</span> <span class="va">nodelist</span></span>
<span></span>
<span><span class="co"># show the new_nodelist</span></span>
<span><span class="va">new_nodelist</span></span>
<span><span class="co">#&gt;   id node_name value   paradigms          instruments</span></span>
<span><span class="co">#&gt; 1  1         a     1 ordoliberal economic stimulation</span></span>
<span><span class="co">#&gt; 2  2         c    -1        &lt;NA&gt;                 &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 3  3         d     1        &lt;NA&gt;                 &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 4  4         b     1 ordoliberal                 &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 5  5         e     1        &lt;NA&gt;                 &lt;NA&gt;</span></span></code></pre></div>
<p>The new_nodelist that is returned has not changed and still contains
the same information as we (manually) added to it in the previous steps.
The new_edgelist2 shows a new value of -1 for concept c, which
corresponds to the changes we (manually) made to the nodelist. Note that
there is no trace of the changes we made in the paradigms and
instruments column in the edgelist. This information is only stored in
the nodelist. This means no re-alignment of the egdelist and nodelist is
needed when you only amend the information on the paradigms and
instruments.</p>
</div>
<div class="section level3">
<h3 id="re-align-the-edge-and-nodelist">5: (Re) align the edge and nodelist<a class="anchor" aria-label="anchor" href="#re-align-the-edge-and-nodelist"></a>
</h3>
<p>The second function to create edge and nodelist that are properly
formatted to use with the functions in the cognitivemapr Rpackage -
align_edge_nodelist - may be used to properly realign the edgelist with
the amended nodelist. This function takes the amended nodelist and the
edgelist which was returns from the ‘prepare_lists_from_edgelist’ as
it’s input.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co">#run the function on the amended nodelist and new_edgelist</span></span>
<span><span class="va">new_edgelist2</span> <span class="op">&lt;-</span> <span class="fu">cognitivemapr</span><span class="fu">::</span><span class="fu"><a href="../reference/align_edge_nodelist.html">align_edge_nodelist</a></span><span class="op">(</span><span class="va">new_edgelist</span>, <span class="va">nodelist</span><span class="op">)</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span></span>
<span><span class="va">new_nodelist</span> <span class="op">&lt;-</span> <span class="fu">cognitivemapr</span><span class="fu">::</span><span class="fu"><a href="../reference/align_edge_nodelist.html">align_edge_nodelist</a></span><span class="op">(</span><span class="va">new_edgelist</span>, <span class="va">nodelist</span><span class="op">)</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># show the new edge and nodelist</span></span>
<span><span class="va">new_edgelist2</span></span>
<span><span class="co">#&gt;   id node_name value   paradigms          instruments</span></span>
<span><span class="co">#&gt; 1  1         a     1 ordoliberal economic stimulation</span></span>
<span><span class="co">#&gt; 2  2         c    -1        &lt;NA&gt;                 &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 3  3         d     1        &lt;NA&gt;                 &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 4  4         b     1 ordoliberal                 &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 5  5         e     1        &lt;NA&gt;                 &lt;NA&gt;</span></span>
<span><span class="va">new_nodelist</span></span>
<span><span class="co">#&gt;   from to weight edge_value  map_date value.x value.y</span></span>
<span><span class="co">#&gt; 1    1  2      1          1 20-5-2010       1      -1</span></span>
<span><span class="co">#&gt; 2    2  3      1         -1 21-5-2010      -1       1</span></span>
<span><span class="co">#&gt; 3    3  5      1         -1 22-5-2010       1       1</span></span>
<span><span class="co">#&gt; 4    4  3      1          1 23-5-2010       1       1</span></span></code></pre></div>
<p>The new_nodelist that is returned has not changed since the previous
step and still contains the same information as we (manually) added to
it. The new_edgelist2, however, shows a new value of -1 for concept c,
which corresponds to the changes included in the new_nodelist. Note that
there is no trace of the changes we made in the paradigms and
instruments column in the edgelist. This information is only stored in
the nodelist. This means no re-alignment of the egdelist and nodelist is
needed when you only amend the information on the paradigms and
instruments.</p>
</div>
<div class="section level3">
<h3 id="reformat-edge-and-nodelist">6: Reformat edge and nodelist<a class="anchor" aria-label="anchor" href="#reformat-edge-and-nodelist"></a>
</h3>
<p>Finally, you may start the proces of analysing your data with the
cognitivemapr package with both an edgelist as well as a nodelist with
the proper node values and categorisation of the concepts in terms of
paradigms and instruments. However, these may not yet fulfill the
formatting requirements of the package. The function
reformat_edge_nodelist helps you put a simple edge and nodelist in the
proper formatting to work with the other cognitivemapr functions. There
are some simple requirements for the function to reformat your
lists.</p>
<p>The reformat_edge_nodelist function requires your
<strong>edgelist</strong> to have the following 4 columns with the
listed column titles, in addition any number of columns with meta-data
may be added.</p>
<ol style="list-style-type: decimal">
<li><p>“from”: cause concept (may consist of multiple words)</p></li>
<li><p>“to”: effect or utility concept (may consist of multiple
words)</p></li>
<li><p>“weight”: number of times the relation is mentioned (can have any
number, if left empty the function will set it to 1 by default)</p></li>
<li><p>“edge_value”: sign/value of the relation: can be 1 (positive
relation), -1 (negative relation), or 0 (non-existent relation). If left
empty the function will set it by default to 1 (positive).</p></li>
</ol>
<p>The reformat_edge_nodelist function also requires your
<strong>nodelist</strong> to have the following 4 columns with the
listed column titles, in addition any number of columns with meta-data
may be added.</p>
<ol style="list-style-type: decimal">
<li><p>“node_name”: name of all unique concepts in the edgelist</p></li>
<li><p>“value”: the intrisic (normative) value of the concept displayed
as a number (1 = positive/neutral, -1 = negative). You should use the
negative value sparsely for whether a concept is positive or negative is
often subjective. If a cell that is left empty in this column the
function will set it by default to 1 (positive/neutral).</p></li>
<li><p>“paradigms”: the categorisation of the concept as belonging
to/being associated with one of two incommensurable paradigms, such as
Ordoliberal versus Keynesian (van Esch &amp; Snellens 2024). You can
only distinguish two paradigms in this column or leave the cell empty
when a concept does not align with one of these two paradigms.</p></li>
<li><p>“instruments”: the categorisation of the concept as a particular
type of policy-instrument. You can distinguish any number of different
instruments in this column or leave the cell empty when a concept is not
a policy instrument. This column can also be used for any other type of
categorisation of the concepts that is deemed relevant, but you cannot
change the name of the column.</p></li>
</ol>
<p>The single_edgelist created at the start of this tutorial fulfills
the requirements for the reformat_edge_nodelist function, however, we do
need to create a new nodelist for the one’s created by the previous
functions, already has more columns than required.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co"># create a simple nodelist with the proper information on the value, paradigms and instruments  </span></span>
<span><span class="va">node_name</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"a"</span>, <span class="st">"b"</span>, <span class="st">"c"</span>, <span class="st">"d"</span>, <span class="st">"e"</span><span class="op">)</span> <span class="co"># making a list of all unique concepts in the edgelist</span></span>
<span><span class="va">value</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"1"</span>, <span class="st">"-1"</span>, <span class="st">"1"</span>, <span class="st">"1"</span>, <span class="st">"-1"</span><span class="op">)</span> <span class="co"># making a list of node values</span></span>
<span><span class="va">paradigms</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"ordoliberal"</span>, <span class="cn">NA</span>, <span class="cn">NA</span>, <span class="st">"keynesian"</span>, <span class="cn">NA</span><span class="op">)</span> <span class="co"># list of paradigms</span></span>
<span><span class="va">instruments</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"economic stimulation"</span>, <span class="st">"financial market regulation"</span>, <span class="cn">NA</span>, <span class="cn">NA</span>, <span class="st">"economic stimulation"</span><span class="op">)</span> <span class="co"># list of instruments</span></span>
<span><span class="va">date</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"20-5-2010"</span>, <span class="st">"20-5-2010"</span>, <span class="st">"22-5-2010"</span>, <span class="st">"23-5-2010"</span>, <span class="st">"23-5-2010"</span><span class="op">)</span> <span class="co"># non-mandatory meta-data</span></span>
<span></span>
<span><span class="co"># compile the nodelist (dataframe) from these lists</span></span>
<span><span class="va">complete_nodelist</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span><span class="va">node_name</span>, <span class="va">value</span>, <span class="va">paradigms</span>, <span class="va">instruments</span>, <span class="va">date</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#show the complete_nodelist</span></span>
<span><span class="va">complete_nodelist</span></span>
<span><span class="co">#&gt;   node_name value   paradigms                 instruments      date</span></span>
<span><span class="co">#&gt; 1         a     1 ordoliberal        economic stimulation 20-5-2010</span></span>
<span><span class="co">#&gt; 2         b    -1        &lt;NA&gt; financial market regulation 20-5-2010</span></span>
<span><span class="co">#&gt; 3         c     1        &lt;NA&gt;                        &lt;NA&gt; 22-5-2010</span></span>
<span><span class="co">#&gt; 4         d     1   keynesian                        &lt;NA&gt; 23-5-2010</span></span>
<span><span class="co">#&gt; 5         e    -1        &lt;NA&gt;        economic stimulation 23-5-2010</span></span></code></pre></div>
<p>We now have both a simple edge and nodelist that may easily be
compiled by the researcher and that has the proper format to run the
reformat_edge_nodelist function on.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># run the function &amp; return the edge and nodelist</span></span>
<span></span>
<span><span class="va">new_edgelist3</span> <span class="op">&lt;-</span> <span class="fu">cognitivemapr</span><span class="fu">::</span><span class="fu"><a href="../reference/reformat_edge_nodelist.html">reformat_edge_nodelist</a></span><span class="op">(</span><span class="va">single_edgelist</span>, <span class="va">complete_nodelist</span><span class="op">)</span> <span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span></span>
<span><span class="va">new_nodelist2</span> <span class="op">&lt;-</span> <span class="fu">cognitivemapr</span><span class="fu">::</span><span class="fu"><a href="../reference/reformat_edge_nodelist.html">reformat_edge_nodelist</a></span><span class="op">(</span><span class="va">single_edgelist</span>, <span class="va">complete_nodelist</span><span class="op">)</span> <span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span></span>
<span></span>
<span><span class="va">new_edgelist3</span></span>
<span><span class="co">#&gt;   from to weight edge_value value.x value.y  map_date</span></span>
<span><span class="co">#&gt; 1    1  3      1          1       1       1 20-5-2010</span></span>
<span><span class="co">#&gt; 2    3  4      1         -1       1       1 21-5-2010</span></span>
<span><span class="co">#&gt; 3    4  5      1         -1       1      -1 22-5-2010</span></span>
<span><span class="co">#&gt; 4    2  4      1          1      -1       1 23-5-2010</span></span>
<span><span class="va">new_nodelist2</span></span>
<span><span class="co">#&gt;   id node_name value   paradigms                 instruments      date</span></span>
<span><span class="co">#&gt; 1  1         a     1 ordoliberal        economic stimulation 20-5-2010</span></span>
<span><span class="co">#&gt; 2  2         b    -1        &lt;NA&gt; financial market regulation 20-5-2010</span></span>
<span><span class="co">#&gt; 3  3         c     1        &lt;NA&gt;                        &lt;NA&gt; 22-5-2010</span></span>
<span><span class="co">#&gt; 4  4         d     1   keynesian                        &lt;NA&gt; 23-5-2010</span></span>
<span><span class="co">#&gt; 5  5         e    -1        &lt;NA&gt;        economic stimulation 23-5-2010</span></span></code></pre></div>
<p>Reviewing the returned edge and nodelist shows that the
reformat_edge_nodelist function adds id’s to the nodelist and replaces
the concepts in the edgelist with the id’s that correspond to those in
the nodelist. It reorders the columns in the edgelist to match the
requirements of the functions in this package. It checks whether the
columns weight and edge-value in the edgelist and the column value in
the nodelist have values, and sets these values to the default of 1 if
they were left empty in the uploaded lists. It assigns the “from” and
“to” concepts in the edgelist the value they were given in the nodelist
(or sets to the default of 1 if left empty) by adding respectively the
value.x and value.y to the edgelist. It The function also retains all
meta-data that was included in the original lists.</p>
<p>These list can now be used for analysis with the other functions in
the cognitivemapr package.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#running the first function of the package - calculate_degrees - with the new_edgelist3 and new_nodelist2 as an example data of Mark Rutte, and storing it as a df</span></span>
<span><span class="va">test_node_measures</span> <span class="op">&lt;-</span> <span class="fu">cognitivemapr</span><span class="fu">::</span><span class="fu"><a href="../reference/calculate_degrees.html">calculate_degrees</a></span><span class="op">(</span><span class="va">new_edgelist3</span>, <span class="va">new_nodelist2</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># this shows that the created edge and nodelist indeed work with the other functions in the package and returns some first basis findings</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">test_node_measures</span><span class="op">)</span></span>
<span><span class="co">#&gt; 'data.frame':    5 obs. of  14 variables:</span></span>
<span><span class="co">#&gt;  $ id         : int  1 2 3 4 5</span></span>
<span><span class="co">#&gt;  $ node_name  : chr  "a" "b" "c" "d" ...</span></span>
<span><span class="co">#&gt;  $ value      : chr  "1" "-1" "1" "1" ...</span></span>
<span><span class="co">#&gt;  $ paradigms  : chr  "ordoliberal" NA NA "keynesian" ...</span></span>
<span><span class="co">#&gt;  $ instruments: chr  "economic stimulation" "financial market regulation" NA NA ...</span></span>
<span><span class="co">#&gt;  $ date       : chr  "20-5-2010" "20-5-2010" "22-5-2010" "23-5-2010" ...</span></span>
<span><span class="co">#&gt;  $ indegree   : num  0 0 1 2 1</span></span>
<span><span class="co">#&gt;  $ outdegree  : num  1 1 1 1 0</span></span>
<span><span class="co">#&gt;  $ degree     : num  1 1 2 3 1</span></span>
<span><span class="co">#&gt;  $ w_indegree : num  0 0 1 2 1</span></span>
<span><span class="co">#&gt;  $ w_outdegree: num  1 1 1 1 0</span></span>
<span><span class="co">#&gt;  $ w_degree   : num  1 1 2 3 1</span></span>
<span><span class="co">#&gt;  $ go         : num  -1 -1 0 0.333 1</span></span>
<span><span class="co">#&gt;  $ gow        : num  -1 -1 0 0.333 1</span></span></code></pre></div>
<p>Please refer to the <a href="cognitivemapr-Tutorial.html">cognitivemapr Tutorial</a> for an
explanation and illustration of the analytical functions in the
cognitivemapr package.</p>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Femke van Esch, Jelle Treep, Neha Moopen, Jeroen Snellens.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
